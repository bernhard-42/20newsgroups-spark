{"paragraphs":[{"text":"%md\n\n## 1 Download Data and load into HDFS","dateUpdated":"Jan 18, 2016 10:13:02 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453126719490_1787318550","id":"20160118-141839_380242664","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>1 Download Data and load into HDFS</h2>\n"},"dateCreated":"Jan 18, 2016 2:18:39 PM","dateStarted":"Jan 18, 2016 10:13:00 PM","dateFinished":"Jan 18, 2016 10:13:00 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:53"},{"text":"%sh\n\ncd /tmp\nmkdir 20newsgroups\ncd 20newsgroups\n\nwget http://qwone.com/~jason/20Newsgroups/20news-bydate.tar.gz\n\ntar -zxf 20news-bydate.tar.gz\n\nls  /tmp/20newsgroups/20news-bydate-train","dateUpdated":"Jan 18, 2016 2:23:33 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala","tableHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453113231111_2012418337","id":"20160118-103351_966794528","result":{"code":"SUCCESS","type":"TEXT","msg":"--2016-01-18 10:39:12--  http://qwone.com/~jason/20Newsgroups/20news-bydate.tar.gz\nResolving qwone.com... 72.74.135.137\nConnecting to qwone.com|72.74.135.137|:80... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 14464277 (14M) [application/x-gzip]\nSaving to: “20news-bydate.tar.gz”\n\n     0K .......... .......... .......... .......... ..........  0% 47.3M 0s\n    50K .......... .......... .......... .......... ..........  0% 86.7M 0s\n   100K .......... .......... .......... .......... ..........  1%  265K 18s\n   150K .......... .......... .......... .......... ..........  1%  134M 13s\n   200K .......... .......... .......... .......... ..........  1% 52.8M 11s\n   250K .......... .......... .......... .......... ..........  2%  364K 15s\n   300K .......... .......... .......... .......... ..........  2%  121M 13s\n   350K .......... .......... .......... .......... ..........  2%  344K 16s\n   400K .......... .......... .......... .......... ..........  3% 93.0M 14s\n   450K .......... .......... .......... .......... ..........  3% 99.6M 13s\n   500K .......... .......... .......... .......... ..........  3%  385K 15s\n   550K .......... .......... .......... .......... ..........  4%  975K 15s\n   600K .......... .......... .......... .......... ..........  4%  931K 15s\n   650K .......... .......... .......... .......... ..........  4% 52.4M 14s\n   700K .......... .......... .......... .......... ..........  5%  137M 13s\n   750K .......... .......... .......... .......... ..........  5%  470K 14s\n   800K .......... .......... .......... .......... ..........  6% 47.2M 13s\n   850K .......... .......... .......... .......... ..........  6%  656K 13s\n   900K .......... .......... .......... .......... ..........  6% 41.1M 12s\n   950K .......... .......... .......... .......... ..........  7%  116M 12s\n  1000K .......... .......... .......... .......... ..........  7%  497K 12s\n  1050K .......... .......... .......... .......... ..........  7% 93.3M 12s\n  1100K .......... .......... .......... .......... ..........  8%  106M 11s\n  1150K .......... .......... .......... .......... ..........  8%  456K 12s\n  1200K .......... .......... .......... .......... ..........  8%  130M 11s\n  1250K .......... .......... .......... .......... ..........  9%  601K 12s\n  1300K .......... .......... .......... .......... ..........  9% 84.2M 11s\n  1350K .......... .......... .......... .......... ..........  9% 70.7M 11s\n  1400K .......... .......... .......... .......... .......... 10%  694K 11s\n  1450K .......... .......... .......... .......... .......... 10% 37.3M 11s\n  1500K .......... .......... .......... .......... .......... 10%  545K 11s\n  1550K .......... .......... .......... .......... .......... 11% 30.7M 11s\n  1600K .......... .......... .......... .......... .......... 11% 93.6M 10s\n  1650K .......... .......... .......... .......... .......... 12%  587K 11s\n  1700K .......... .......... .......... .......... .......... 12% 54.7M 10s\n  1750K .......... .......... .......... .......... .......... 12%  717K 10s\n  1800K .......... .......... .......... .......... .......... 13% 47.1M 10s\n  1850K .......... .......... .......... .......... .......... 13% 62.1M 10s\n  1900K .......... .......... .......... .......... .......... 13%  583K 10s\n  1950K .......... .......... .......... .......... .......... 14%  104M 10s\n  2000K .......... .......... .......... .......... .......... 14%  712K 10s\n  2050K .......... .......... .......... .......... .......... 14% 36.0M 10s\n  2100K .......... .......... .......... .......... .......... 15% 43.5M 9s\n  2150K .......... .......... .......... .......... .......... 15%  757K 9s\n  2200K .......... .......... .......... .......... .......... 15% 86.4M 9s\n  2250K .......... .......... .......... .......... .......... 16%  107M 9s\n  2300K .......... .......... .......... .......... .......... 16%  624K 9s\n  2350K .......... .......... .......... .......... .......... 16% 38.7M 9s\n  2400K .......... .......... .......... .......... .......... 17%  874K 9s\n  2450K .......... .......... .......... .......... .......... 17%  114M 9s\n  2500K .......... .......... .......... .......... .......... 18%  122M 9s\n  2550K .......... .......... .......... .......... .......... 18%  720K 9s\n  2600K .......... .......... .......... .......... .......... 18%  128M 8s\n  2650K .......... .......... .......... .......... .......... 19%  791K 9s\n  2700K .......... .......... .......... .......... .......... 19% 18.2M 8s\n  2750K .......... .......... .......... .......... .......... 19%  281M 8s\n  2800K .......... .......... .......... .......... .......... 20%  831K 8s\n  2850K .......... .......... .......... .......... .......... 20% 74.0M 8s\n  2900K .......... .......... .......... .......... .......... 20%  811K 8s\n  2950K .......... .......... .......... .......... .......... 21% 54.6M 8s\n  3000K .......... .......... .......... .......... .......... 21%  532M 8s\n  3050K .......... .......... .......... .......... .......... 21%  834K 8s\n  3100K .......... .......... .......... .......... .......... 22%  296M 8s\n  3150K .......... .......... .......... .......... .......... 22%  833K 8s\n  3200K .......... .......... .......... .......... .......... 23% 51.1M 8s\n  3250K .......... .......... .......... .......... .......... 23%  131M 7s\n  3300K .......... .......... .......... .......... .......... 23%  812K 7s\n  3350K .......... .......... .......... .......... .......... 24%  124M 7s\n  3400K .......... .......... .......... .......... .......... 24%  127M 7s\n  3450K .......... .......... .......... .......... .......... 24%  880K 7s\n  3500K .......... .......... .......... .......... .......... 25% 54.7M 7s\n  3550K .......... .......... .......... .......... .......... 25%  806K 7s\n  3600K .......... .......... .......... .......... .......... 25% 84.5M 7s\n  3650K .......... .......... .......... .......... .......... 26% 95.2M 7s\n  3700K .......... .......... .......... .......... .......... 26%  965K 7s\n  3750K .......... .......... .......... .......... .......... 26%  130M 7s\n  3800K .......... .......... .......... .......... .......... 27%  842K 7s\n  3850K .......... .......... .......... .......... .......... 27% 47.9M 7s\n  3900K .......... .......... .......... .......... .......... 27%  123M 7s\n  3950K .......... .......... .......... .......... .......... 28%  978K 7s\n  4000K .......... .......... .......... .......... .......... 28% 96.2M 6s\n  4050K .......... .......... .......... .......... .......... 29%  971K 7s\n  4100K .......... .......... .......... .......... .......... 29% 51.5M 6s\n  4150K .......... .......... .......... .......... .......... 29%  125M 6s\n  4200K .......... .......... .......... .......... .......... 30%  864K 6s\n  4250K .......... .......... .......... .......... .......... 30% 93.4M 6s\n  4300K .......... .......... .......... .......... .......... 30% 80.9M 6s\n  4350K .......... .......... .......... .......... .......... 31%  984K 6s\n  4400K .......... .......... .......... .......... .......... 31% 32.5M 6s\n  4450K .......... .......... .......... .......... .......... 31% 1.05M 6s\n  4500K .......... .......... .......... .......... .......... 32% 81.5M 6s\n  4550K .......... .......... .......... .......... .......... 32%  133M 6s\n  4600K .......... .......... .......... .......... .......... 32% 1.03M 6s\n  4650K .......... .......... .......... .......... .......... 33%  143M 6s\n  4700K .......... .......... .......... .......... .......... 33% 1.07M 6s\n  4750K .......... .......... .......... .......... .......... 33% 7.08M 6s\n  4800K .......... .......... .......... .......... .......... 34%  116M 6s\n  4850K .......... .......... .......... .......... .......... 34%  958K 6s\n  4900K .......... .......... .......... .......... .......... 35%  125M 6s\n  4950K .......... .......... .......... .......... .......... 35% 1.26M 6s\n  5000K .......... .......... .......... .......... .......... 35% 44.8M 5s\n  5050K .......... .......... .......... .......... .......... 36%  134M 5s\n  5100K .......... .......... .......... .......... .......... 36%  932K 5s\n  5150K .......... .......... .......... .......... .......... 36% 21.4M 5s\n  5200K .......... .......... .......... .......... .......... 37% 1.20M 5s\n  5250K .......... .......... .......... .......... .......... 37% 44.1M 5s\n  5300K .......... .......... .......... .......... .......... 37% 95.2M 5s\n  5350K .......... .......... .......... .......... .......... 38% 1.14M 5s\n  5400K .......... .......... .......... .......... .......... 38%  129M 5s\n  5450K .......... .......... .......... .......... .......... 38%  102M 5s\n  5500K .......... .......... .......... .......... .......... 39%  994K 5s\n  5550K .......... .......... .......... .......... .......... 39% 77.5M 5s\n  5600K .......... .......... .......... .......... .......... 39% 1.25M 5s\n  5650K .......... .......... .......... .......... .......... 40%  142M 5s\n  5700K .......... .......... .......... .......... .......... 40%  111M 5s\n  5750K .......... .......... .......... .......... .......... 41% 1.16M 5s\n  5800K .......... .......... .......... .......... .......... 41%  127M 5s\n  5850K .......... .......... .......... .......... .......... 41% 1.05M 5s\n  5900K .......... .......... .......... .......... .......... 42% 42.3M 5s\n  5950K .......... .......... .......... .......... .......... 42% 73.2M 5s\n  6000K .......... .......... .......... .......... .......... 42% 1.16M 5s\n  6050K .......... .......... .......... .......... .......... 43%  101M 4s\n  6100K .......... .......... .......... .......... .......... 43% 1.23M 4s\n  6150K .......... .......... .......... .......... .......... 43% 46.5M 4s\n  6200K .......... .......... .......... .......... .......... 44%  113M 4s\n  6250K .......... .......... .......... .......... .......... 44% 1.11M 4s\n  6300K .......... .......... .......... .......... .......... 44% 83.9M 4s\n  6350K .......... .......... .......... .......... .......... 45% 1.25M 4s\n  6400K .......... .......... .......... .......... .......... 45% 55.7M 4s\n  6450K .......... .......... .......... .......... .......... 46%  108M 4s\n  6500K .......... .......... .......... .......... .......... 46% 1.16M 4s\n  6550K .......... .......... .......... .......... .......... 46% 88.2M 4s\n  6600K .......... .......... .......... .......... .......... 47% 88.1M 4s\n  6650K .......... .......... .......... .......... .......... 47% 1.19M 4s\n  6700K .......... .......... .......... .......... .......... 47%  130M 4s\n  6750K .......... .......... .......... .......... .......... 48% 1.26M 4s\n  6800K .......... .......... .......... .......... .......... 48% 87.8M 4s\n  6850K .......... .......... .......... .......... .......... 48% 93.7M 4s\n  6900K .......... .......... .......... .......... .......... 49% 1.30M 4s\n  6950K .......... .......... .......... .......... .......... 49%  132M 4s\n  7000K .......... .......... .......... .......... .......... 49% 1.29M 4s\n  7050K .......... .......... .......... .......... .......... 50% 58.7M 4s\n  7100K .......... .......... .......... .......... .......... 50%  146M 4s\n  7150K .......... .......... .......... .......... .......... 50% 1.26M 4s\n  7200K .......... .......... .......... .......... .......... 51%  135M 4s\n  7250K .......... .......... .......... .......... .......... 51% 1.24M 4s\n  7300K .......... .......... .......... .......... .......... 52% 59.9M 3s\n  7350K .......... .......... .......... .......... .......... 52%  154M 3s\n  7400K .......... .......... .......... .......... .......... 52% 1.26M 3s\n  7450K .......... .......... .......... .......... .......... 53% 84.9M 3s\n  7500K .......... .......... .......... .......... .......... 53%  123M 3s\n  7550K .......... .......... .......... .......... .......... 53% 1.26M 3s\n  7600K .......... .......... .......... .......... .......... 54% 79.8M 3s\n  7650K .......... .......... .......... .......... .......... 54% 1.32M 3s\n  7700K .......... .......... .......... .......... .......... 54%  136M 3s\n  7750K .......... .......... .......... .......... .......... 55%  120M 3s\n  7800K .......... .......... .......... .......... .......... 55% 1.27M 3s\n  7850K .......... .......... .......... .......... .......... 55%  137M 3s\n  7900K .......... .......... .......... .......... .......... 56% 1.28M 3s\n  7950K .......... .......... .......... .......... .......... 56% 31.5M 3s\n  8000K .......... .......... .......... .......... .......... 56%  105M 3s\n  8050K .......... .......... .......... .......... .......... 57% 1.23M 3s\n  8100K .......... .......... .......... .......... .......... 57%  120M 3s\n  8150K .......... .......... .......... .......... .......... 58% 1.39M 3s\n  8200K .......... .......... .......... .......... .......... 58% 60.8M 3s\n  8250K .......... .......... .......... .......... .......... 58%  129M 3s\n  8300K .......... .......... .......... .......... .......... 59% 1.15M 3s\n  8350K .......... .......... .......... .......... .......... 59% 17.0M 3s\n  8400K .......... .......... .......... .......... .......... 59% 1.42M 3s\n  8450K .......... .......... .......... .......... .......... 60% 59.2M 3s\n  8500K .......... .......... .......... .......... .......... 60% 68.9M 3s\n  8550K .......... .......... .......... .......... .......... 60% 1.39M 3s\n  8600K .......... .......... .......... .......... .......... 61%  106M 3s\n  8650K .......... .......... .......... .......... .......... 61%  132M 3s\n  8700K .......... .......... .......... .......... .......... 61% 1.26M 3s\n  8750K .......... .......... .......... .......... .......... 62% 79.3M 3s\n  8800K .......... .......... .......... .......... .......... 62% 1.25M 3s\n  8850K .......... .......... .......... .......... .......... 63%  117M 3s\n  8900K .......... .......... .......... .......... .......... 63%  126M 2s\n  8950K .......... .......... .......... .......... .......... 63% 1.30M 2s\n  9000K .......... .......... .......... .......... .......... 64%  141M 2s\n  9050K .......... .......... .......... .......... .......... 64% 1.26M 2s\n  9100K .......... .......... .......... .......... .......... 64% 68.0M 2s\n  9150K .......... .......... .......... .......... .......... 65% 84.9M 2s\n  9200K .......... .......... .......... .......... .......... 65% 1.32M 2s\n  9250K .......... .......... .......... .......... .......... 65%  111M 2s\n  9300K .......... .......... .......... .......... .......... 66% 1.23M 2s\n  9350K .......... .......... .......... .......... .......... 66%  110M 2s\n  9400K .......... .......... .......... .......... .......... 66%  161M 2s\n  9450K .......... .......... .......... .......... .......... 67% 1.32M 2s\n  9500K .......... .......... .......... .......... .......... 67%  112M 2s\n  9550K .......... .......... .......... .......... .......... 67% 1.24M 2s\n  9600K .......... .......... .......... .......... .......... 68% 57.1M 2s\n  9650K .......... .......... .......... .......... .......... 68%  150M 2s\n  9700K .......... .......... .......... .......... .......... 69% 1.30M 2s\n  9750K .......... .......... .......... .......... .......... 69%  107M 2s\n  9800K .......... .......... .......... .......... .......... 69% 93.4M 2s\n  9850K .......... .......... .......... .......... .......... 70% 1.23M 2s\n  9900K .......... .......... .......... .......... .......... 70%  127M 2s\n  9950K .......... .......... .......... .......... .......... 70% 1.31M 2s\n 10000K .......... .......... .......... .......... .......... 71%  145M 2s\n 10050K .......... .......... .......... .......... .......... 71%  127M 2s\n 10100K .......... .......... .......... .......... .......... 71% 1.26M 2s\n 10150K .......... .......... .......... .......... .......... 72%  151M 2s\n 10200K .......... .......... .......... .......... .......... 72% 1.24M 2s\n 10250K .......... .......... .......... .......... .......... 72% 62.7M 2s\n 10300K .......... .......... .......... .......... .......... 73%  154M 2s\n 10350K .......... .......... .......... .......... .......... 73% 1.32M 2s\n 10400K .......... .......... .......... .......... .......... 73%  107M 2s\n 10450K .......... .......... .......... .......... .......... 74% 1.28M 2s\n 10500K .......... .......... .......... .......... .......... 74% 43.7M 2s\n 10550K .......... .......... .......... .......... .......... 75%  140M 2s\n 10600K .......... .......... .......... .......... .......... 75% 1.28M 2s\n 10650K .......... .......... .......... .......... .......... 75% 38.9M 2s\n 10700K .......... .......... .......... .......... .......... 76%  105M 2s\n 10750K .......... .......... .......... .......... .......... 76% 1.30M 1s\n 10800K .......... .......... .......... .......... .......... 76%  125M 1s\n 10850K .......... .......... .......... .......... .......... 77% 1.26M 1s\n 10900K .......... .......... .......... .......... .......... 77% 87.4M 1s\n 10950K .......... .......... .......... .......... .......... 77% 98.6M 1s\n 11000K .......... .......... .......... .......... .......... 78% 1.29M 1s\n 11050K .......... .......... .......... .......... .......... 78% 75.5M 1s\n 11100K .......... .......... .......... .......... .......... 78% 1.31M 1s\n 11150K .......... .......... .......... .......... .......... 79% 42.7M 1s\n 11200K .......... .......... .......... .......... .......... 79% 97.1M 1s\n 11250K .......... .......... .......... .......... .......... 79% 1.28M 1s\n 11300K .......... .......... .......... .......... .......... 80%  135M 1s\n 11350K .......... .......... .......... .......... .......... 80% 1.29M 1s\n 11400K .......... .......... .......... .......... .......... 81% 35.6M 1s\n 11450K .......... .......... .......... .......... .......... 81% 93.0M 1s\n 11500K .......... .......... .......... .......... .......... 81% 1.21M 1s\n 11550K .......... .......... .......... .......... .......... 82%  105M 1s\n 11600K .......... .......... .......... .......... .......... 82% 1.27M 1s\n 11650K .......... .......... .......... .......... .......... 82% 52.5M 1s\n 11700K .......... .......... .......... .......... .......... 83%  136M 1s\n 11750K .......... .......... .......... .......... .......... 83% 1.33M 1s\n 11800K .......... .......... .......... .......... .......... 83% 87.9M 1s\n 11850K .......... .......... .......... .......... .......... 84% 94.0M 1s\n 11900K .......... .......... .......... .......... .......... 84% 1.30M 1s\n 11950K .......... .......... .......... .......... .......... 84% 67.6M 1s\n 12000K .......... .......... .......... .......... .......... 85% 1.30M 1s\n 12050K .......... .......... .......... .......... .......... 85%  105M 1s\n 12100K .......... .......... .......... .......... .......... 86% 91.9M 1s\n 12150K .......... .......... .......... .......... .......... 86% 1.22M 1s\n 12200K .......... .......... .......... .......... .......... 86%  145M 1s\n 12250K .......... .......... .......... .......... .......... 87% 1.40M 1s\n 12300K .......... .......... .......... .......... .......... 87% 51.2M 1s\n 12350K .......... .......... .......... .......... .......... 87% 92.5M 1s\n 12400K .......... .......... .......... .......... .......... 88% 1.24M 1s\n 12450K .......... .......... .......... .......... .......... 88% 67.3M 1s\n 12500K .......... .......... .......... .......... .......... 88% 1.33M 1s\n 12550K .......... .......... .......... .......... .......... 89% 24.8M 1s\n 12600K .......... .......... .......... .......... .......... 89%  137M 1s\n 12650K .......... .......... .......... .......... .......... 89% 1.30M 1s\n 12700K .......... .......... .......... .......... .......... 90% 98.7M 1s\n 12750K .......... .......... .......... .......... .......... 90% 1.32M 1s\n 12800K .......... .......... .......... .......... .......... 90% 55.7M 1s\n 12850K .......... .......... .......... .......... .......... 91%  101M 1s\n 12900K .......... .......... .......... .......... .......... 91% 1.30M 0s\n 12950K .......... .......... .......... .......... .......... 92% 1.24M 0s\n 13000K .......... .......... .......... .......... .......... 92% 36.7M 0s\n 13050K .......... .......... .......... .......... .......... 92%  138M 0s\n 13100K .......... .......... .......... .......... .......... 93%  156M 0s\n 13150K .......... .......... .......... .......... .......... 93% 1.25M 0s\n 13200K .......... .......... .......... .......... .......... 93%  102M 0s\n 13250K .......... .......... .......... .......... .......... 94%  104M 0s\n 13300K .......... .......... .......... .......... .......... 94% 1.33M 0s\n 13350K .......... .......... .......... .......... .......... 94%  147M 0s\n 13400K .......... .......... .......... .......... .......... 95% 1.29M 0s\n 13450K .......... .......... .......... .......... .......... 95% 32.8M 0s\n 13500K .......... .......... .......... .......... .......... 95%  125M 0s\n 13550K .......... .......... .......... .......... .......... 96% 1.33M 0s\n 13600K .......... .......... .......... .......... .......... 96%  113M 0s\n 13650K .......... .......... .......... .......... .......... 96% 1.27M 0s\n 13700K .......... .......... .......... .......... .......... 97% 49.2M 0s\n 13750K .......... .......... .......... .......... .......... 97%  109M 0s\n 13800K .......... .......... .......... .......... .......... 98% 1.25M 0s\n 13850K .......... .......... .......... .......... .......... 98%  125M 0s\n 13900K .......... .......... .......... .......... .......... 98%  122M 0s\n 13950K .......... .......... .......... .......... .......... 99% 1.04M 0s\n 14000K .......... .......... .......... .......... .......... 99%  145M 0s\n 14050K .......... .......... .......... .......... .......... 99% 2.23K 0s\n 14100K .......... .......... .....                           100%  669M=28s\n\n2016-01-18 10:39:41 (500 KB/s) - “20news-bydate.tar.gz” saved [14464277/14464277]\n\n"},"dateCreated":"Jan 18, 2016 10:33:51 AM","dateStarted":"Jan 18, 2016 10:39:12 AM","dateFinished":"Jan 18, 2016 10:39:42 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:54"},{"text":"%sh\n\nhdfs dfs -mkdir /tmp/20newsgroups\nhdfs dfs -put /tmp/20newsgroups \n\nhdfs dfs -ls /user/zeppelin/20newsgroups/20news-bydate-train","dateUpdated":"Jan 18, 2016 2:23:13 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/sh"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453113586697_-388311343","id":"20160118-103946_172980244","result":{"code":"SUCCESS","type":"TEXT","msg":""},"dateCreated":"Jan 18, 2016 10:39:46 AM","dateStarted":"Jan 18, 2016 10:40:31 AM","dateFinished":"Jan 18, 2016 10:43:49 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:55"},{"text":"%md\n\n## 2 Convert Training and Test Data","dateUpdated":"Jan 18, 2016 10:13:48 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453126755229_795112433","id":"20160118-141915_1709685289","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>2 Convert Training and Test Data</h2>\n"},"dateCreated":"Jan 18, 2016 2:19:15 PM","dateStarted":"Jan 18, 2016 10:13:45 PM","dateFinished":"Jan 18, 2016 10:13:45 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:56"},{"text":"val categories = Array(\"alt.atheism\", \"soc.religion.christian\", \"comp.graphics\", \"sci.med\")\n\nval twenty_train1 = for (cat <- categories) yield sc.wholeTextFiles(\"/user/zeppelin/20newsgroups/20news-bydate-train/\" + cat)\nval twenty_train2 = twenty_train1.reduce(_ union _)\n\nval twenty_test1 = for (cat <- categories) yield sc.wholeTextFiles(\"/user/zeppelin/20newsgroups/20news-bydate-test/\" + cat)\nval twenty_test2 = twenty_test1.reduce(_ union _)\n","dateUpdated":"Jan 19, 2016 10:59:25 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453113834078_511183969","id":"20160118-104354_1117051014","result":{"code":"SUCCESS","type":"TEXT","msg":"categories: Array[String] = Array(alt.atheism, soc.religion.christian, comp.graphics, sci.med)\ntwenty_train1: Array[org.apache.spark.rdd.RDD[(String, String)]] = Array(/user/zeppelin/20newsgroups/20news-bydate-train/alt.atheism WholeTextFileRDD[0] at wholeTextFiles at <console>:26, /user/zeppelin/20newsgroups/20news-bydate-train/soc.religion.christian WholeTextFileRDD[1] at wholeTextFiles at <console>:26, /user/zeppelin/20newsgroups/20news-bydate-train/comp.graphics WholeTextFileRDD[2] at wholeTextFiles at <console>:26, /user/zeppelin/20newsgroups/20news-bydate-train/sci.med WholeTextFileRDD[3] at wholeTextFiles at <console>:26)\ntwenty_train2: org.apache.spark.rdd.RDD[(String, String)] = UnionRDD[6] at union at <console>:27\ntwenty_test1: Array[org.apache.spark.rdd.RDD[(String, String)]] = Array(/user/zeppelin/20newsgroups/20news-bydate-test/alt.atheism WholeTextFileRDD[7] at wholeTextFiles at <console>:26, /user/zeppelin/20newsgroups/20news-bydate-test/soc.religion.christian WholeTextFileRDD[8] at wholeTextFiles at <console>:26, /user/zeppelin/20newsgroups/20news-bydate-test/comp.graphics WholeTextFileRDD[9] at wholeTextFiles at <console>:26, /user/zeppelin/20newsgroups/20news-bydate-test/sci.med WholeTextFileRDD[10] at wholeTextFiles at <console>:26)\ntwenty_test2: org.apache.spark.rdd.RDD[(String, String)] = UnionRDD[13] at union at <console>:27\n"},"dateCreated":"Jan 18, 2016 10:43:54 AM","dateStarted":"Jan 19, 2016 10:59:25 PM","dateFinished":"Jan 19, 2016 10:59:51 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:57"},{"text":"for (e <- twenty_test1) yield e.count()","dateUpdated":"Jan 18, 2016 10:06:18 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala","tableHide":false,"editorHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453114009150_-1746093500","id":"20160118-104649_723774439","result":{"code":"SUCCESS","type":"TEXT","msg":"res562: Array[Long] = Array(319, 398, 389, 396)\n"},"dateCreated":"Jan 18, 2016 10:46:49 AM","dateStarted":"Jan 18, 2016 10:06:18 PM","dateFinished":"Jan 18, 2016 10:06:27 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:58"},{"text":"twenty_train2.take(1)(0)._1","dateUpdated":"Jan 18, 2016 10:07:22 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala","tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453118212793_1782444644","id":"20160118-115652_1055778969","result":{"code":"SUCCESS","type":"TEXT","msg":"res358: String = hdfs://hdp-sa-234.localdomain:8020/user/zeppelin/20newsgroups/20news-bydate-train/alt.atheism/49960\n"},"dateCreated":"Jan 18, 2016 11:56:52 AM","dateStarted":"Jan 18, 2016 1:28:05 PM","dateFinished":"Jan 18, 2016 1:28:06 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:59"},{"text":"twenty_train2.take(1)(0)._2","dateUpdated":"Jan 18, 2016 10:07:20 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala","tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453118396889_-309356861","id":"20160118-115956_545489928","result":{"code":"SUCCESS","type":"TEXT","msg":"res360: String = \n\"From: mathew <mathew@mantis.co.uk>\nSubject: Alt.Atheism FAQ: Atheist Resources\nSummary: Books, addresses, music -- anything related to atheism\nKeywords: FAQ, atheism, books, music, fiction, addresses, contacts\nExpires: Thu, 29 Apr 1993 11:57:19 GMT\nDistribution: world\nOrganization: Mantis Consultants, Cambridge. UK.\nSupersedes: <19930301143317@mantis.co.uk>\nLines: 290\n\nArchive-name: atheism/resources\nAlt-atheism-archive-name: resources\nLast-modified: 11 December 1992\nVersion: 1.0\n\n                              Atheist Resources\n\n                      Addresses of Atheist Organizations\n\n                                     USA\n\nFREEDOM FROM RELIGION FOUNDATION\n\nDarwin fish bumper stickers and assorted other atheist paraphernalia are\navailable from the Freedom From Reli..."},"dateCreated":"Jan 18, 2016 11:59:56 AM","dateStarted":"Jan 18, 2016 1:28:12 PM","dateFinished":"Jan 18, 2016 1:28:12 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:60"},{"text":"def getMsgId(msg:String, ind:Int):String = {\n    val arr = msg.split(\"/\")\n    return arr(arr.size-ind)\n} \n\nval twenty_train = twenty_train2.map(msg => (getMsgId(msg._1, 1), getMsgId(msg._1, 2), msg._2))\nval twenty_train_df = twenty_train.toDF(\"msgId\", \"category\", \"message\")\n\nval twenty_test = twenty_test2.map(msg => (getMsgId(msg._1, 1), getMsgId(msg._1, 2), msg._2)).toDF(\"msgId\", \"category\", \"message\")\nval twenty_test_df = twenty_test.toDF(\"msgId\", \"category\", \"message\")\n","dateUpdated":"Jan 18, 2016 10:11:13 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453122278492_135158337","id":"20160118-130438_1826442503","result":{"code":"SUCCESS","type":"TEXT","msg":"getMsgId: (msg: String, ind: Int)String\ntwenty_train: org.apache.spark.rdd.RDD[(String, String, String)] = MapPartitionsRDD[647] at map at <console>:80\ntwenty_train_df: org.apache.spark.sql.DataFrame = [msgId: string, category: string, message: string]\ntwenty_test: org.apache.spark.sql.DataFrame = [msgId: string, category: string, message: string]\ntwenty_test_df: org.apache.spark.sql.DataFrame = [msgId: string, category: string, message: string]\n"},"dateCreated":"Jan 18, 2016 1:04:38 PM","dateStarted":"Jan 18, 2016 10:11:13 PM","dateFinished":"Jan 18, 2016 10:11:14 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:61"},{"text":"%md\n## 4 Naive Bayes Classification with Spark ML Pipeline","dateUpdated":"Jan 18, 2016 10:18:32 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453125220983_-2004907816","id":"20160118-135340_1948903363","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>4 Naive Bayes Classification with Spark ML Pipeline</h2>\n"},"dateCreated":"Jan 18, 2016 1:53:40 PM","dateStarted":"Jan 18, 2016 10:18:30 PM","dateFinished":"Jan 18, 2016 10:18:30 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:62"},{"text":"%md\n### 4.1 Create Model\n\n`Note: As of Spark 1.6.0, Naive Bayes for Spark ML is still \"experimental\"`\n\n","dateUpdated":"Jan 18, 2016 10:20:21 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453138830027_1976712861","id":"20160118-174030_36733032","result":{"code":"SUCCESS","type":"HTML","msg":"<h3>4.1 Create Model</h3>\n<p><code>Note: As of Spark 1.6.0, Naive Bayes for Spark ML is still \"experimental\"</code></p>\n"},"dateCreated":"Jan 18, 2016 5:40:30 PM","dateStarted":"Jan 18, 2016 10:20:16 PM","dateFinished":"Jan 18, 2016 10:20:16 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:63"},{"text":"import org.apache.spark.ml.feature.{HashingTF, IDF, Tokenizer, StringIndexer, IndexToString}\nimport org.apache.spark.ml.classification.NaiveBayes\nimport org.apache.spark.ml.Pipeline\n\nval indexer   = new StringIndexer().setInputCol(\"category\").setOutputCol(\"label\").fit(twenty_train_df)\nval tokenizer = new Tokenizer().setInputCol(\"message\").setOutputCol(\"words\")\nval hashingTF = new HashingTF().setInputCol(\"words\").setOutputCol(\"rawFeatures\")\nval idf       = new IDF().setInputCol(\"rawFeatures\").setOutputCol(\"features\")\nval nb        = new NaiveBayes().setFeaturesCol(\"features\").setLabelCol(\"label\").setSmoothing(1.0).setModelType(\"multinomial\") // outputCol = \"prediction\"\nval converter = new IndexToString().setInputCol(\"prediction\").setOutputCol(\"predictedCategory\").setLabels(indexer.labels)\n\nval pipeline = new Pipeline().setStages(Array(tokenizer, hashingTF, idf, indexer, nb, converter))\n\nval model = pipeline.fit(twenty_train_df)\n","dateUpdated":"Jan 19, 2016 12:07:02 AM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453126695800_-665317771","id":"20160118-141815_1569429724","result":{"code":"SUCCESS","type":"TEXT","msg":"import org.apache.spark.ml.feature.{HashingTF, IDF, Tokenizer, StringIndexer, IndexToString}\nimport org.apache.spark.ml.classification.NaiveBayes\nimport org.apache.spark.ml.Pipeline\nindexer: org.apache.spark.ml.feature.StringIndexerModel = strIdx_23d229e318d3\ntokenizer: org.apache.spark.ml.feature.Tokenizer = tok_b5759b7e8b47\nhashingTF: org.apache.spark.ml.feature.HashingTF = hashingTF_1bce2afb8f00\nidf: org.apache.spark.ml.feature.IDF = idf_46dac9df97b1\nnb: org.apache.spark.ml.classification.NaiveBayes = nb_4b7875cc1d9a\nconverter: org.apache.spark.ml.feature.IndexToString = idxToStr_039f23b09718\npipeline: org.apache.spark.ml.Pipeline = pipeline_f317082ca243\nmodel: org.apache.spark.ml.PipelineModel = pipeline_f317082ca243\n"},"dateCreated":"Jan 18, 2016 2:18:15 PM","dateStarted":"Jan 19, 2016 12:07:02 AM","dateFinished":"Jan 19, 2016 12:07:50 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:64"},{"text":"%md\n### 4.2 Validation","dateUpdated":"Jan 18, 2016 10:18:09 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453138808335_-1084780110","id":"20160118-174008_58504611","result":{"code":"SUCCESS","type":"HTML","msg":"<h3>4.2 Validation</h3>\n"},"dateCreated":"Jan 18, 2016 5:40:08 PM","dateStarted":"Jan 18, 2016 10:18:06 PM","dateFinished":"Jan 18, 2016 10:18:06 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:65"},{"text":"import org.apache.spark.sql.Row\nimport org.apache.spark.mllib.linalg.Vector\nimport org.apache.spark.mllib.evaluation.MulticlassMetrics\n\nval validation = model.transform(twenty_test)\n\nval predictions = validation.select(\"label\", \"prediction\")\nval predictionsAndLabels = predictions.map {case Row(p: Double, l: Double) => (p, l)}\n\nval metrics = new MulticlassMetrics(predictionsAndLabels)\n","dateUpdated":"Jan 19, 2016 12:08:02 AM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453127376959_310957634","id":"20160118-142936_605438232","result":{"code":"SUCCESS","type":"TEXT","msg":"import org.apache.spark.sql.Row\nimport org.apache.spark.mllib.linalg.Vector\nimport org.apache.spark.mllib.evaluation.MulticlassMetrics\nvalidation: org.apache.spark.sql.DataFrame = [msgId: string, category: string, message: string, words: array<string>, rawFeatures: vector, features: vector, label: double, rawPrediction: vector, probability: vector, prediction: double, predictedCategory: string]\npredictions: org.apache.spark.sql.DataFrame = [label: double, prediction: double]\npredictionsAndLabels: org.apache.spark.rdd.RDD[(Double, Double)] = MapPartitionsRDD[926] at map at <console>:186\nmetrics: org.apache.spark.mllib.evaluation.MulticlassMetrics = org.apache.spark.mllib.evaluation.MulticlassMetrics@576cf2b3\n"},"dateCreated":"Jan 18, 2016 2:29:36 PM","dateStarted":"Jan 19, 2016 12:08:02 AM","dateFinished":"Jan 19, 2016 12:08:05 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:66"},{"text":"for (i <- validation.select(\"category\", \"predictedCategory\").take(10)) {\n    println(i)\n}","dateUpdated":"Jan 19, 2016 1:25:10 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453161246196_1959930352","id":"20160118-235406_1548990397","result":{"code":"SUCCESS","type":"TEXT","msg":"[alt.atheism,soc.religion.christian]\n[alt.atheism,alt.atheism]\n[alt.atheism,alt.atheism]\n[alt.atheism,alt.atheism]\n[alt.atheism,alt.atheism]\n[alt.atheism,alt.atheism]\n[alt.atheism,soc.religion.christian]\n[alt.atheism,alt.atheism]\n[alt.atheism,alt.atheism]\n[alt.atheism,alt.atheism]\n"},"dateCreated":"Jan 18, 2016 11:54:06 PM","dateStarted":"Jan 19, 2016 1:24:37 PM","dateFinished":"Jan 19, 2016 1:24:40 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:67"},{"text":"println(\"CONFUSION MATRIX\")\nprintln(metrics.confusionMatrix)\nprintln(\"\")\nprintln(\"CATEGORY                 PRECISION  RECALL\")\nfor (i <- 0 to 3) {\n    val l = indexer.labels(i)\n    val p = metrics.precision(i)\n    val r = metrics.recall(i)\n    println(f\"$l%22s:  $p%2.3f      $r%2.3f\")\n}\n","dateUpdated":"Jan 18, 2016 11:49:59 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453156334392_-301933153","id":"20160118-223214_61147923","result":{"code":"SUCCESS","type":"TEXT","msg":"CONFUSION MATRIX\n385.0  16.0   6.0    29.0   \n5.0    350.0  9.0    4.0    \n3.0    15.0   368.0  1.0    \n5.0    15.0   6.0    285.0  \n\nCATEGORY                 PRECISION  RECALL\nsoc.religion.christian:  0.967      0.883\n               sci.med:  0.884      0.951\n         comp.graphics:  0.946      0.951\n           alt.atheism:  0.893      0.916\n"},"dateCreated":"Jan 18, 2016 10:32:14 PM","dateStarted":"Jan 18, 2016 11:49:59 PM","dateFinished":"Jan 18, 2016 11:51:26 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:68"},{"text":"%md\n## 3 Multinomial Logistic Regression with MLLib","dateUpdated":"Jan 19, 2016 1:26:44 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453209900640_-1736788199","id":"20160119-132500_2047965067","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>3 Multinomial Logistic Regression with MLLib</h2>\n"},"dateCreated":"Jan 19, 2016 1:25:00 PM","dateStarted":"Jan 19, 2016 1:26:41 PM","dateFinished":"Jan 19, 2016 1:26:41 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69"},{"text":"import org.apache.spark.rdd.RDD\nimport org.apache.spark.mllib.feature.{HashingTF, IDF}\nimport org.apache.spark.mllib.linalg.Vector\nimport scala.collection.immutable.HashMap\nimport org.apache.spark.mllib.regression.LabeledPoint\nimport scala.math.pow\n\nval categoryMap = HashMap(\"alt.atheism\" -> 0, \"soc.religion.christian\" -> 1, \"comp.graphics\" -> 2, \"sci.med\" -> 3)\nval categories = categoryMap.keys.toArray\n\ndef tokenize(line: String): Array[String] = {\n    line.split(\"\"\"\\W+\"\"\")\n        .map(_.toLowerCase)\n}\n\ndef prepareData(typ: String):RDD[org.apache.spark.mllib.regression.LabeledPoint] = {\n    (for (category <- categories) yield {\n        val wordsData = sc.wholeTextFiles(\"/user/zeppelin/20newsgroups/20news-bydate-\" + typ + \"/\" + category).map(message => tokenize(message._2).toSeq)\n\n        val hashingTF = new HashingTF(pow(2,18).toInt)\n        val featuredData = hashingTF.transform(wordsData).cache()\n\n        val idf = new IDF().fit(featuredData)\n        val tfidf = idf.transform(featuredData)\n        tfidf.map(row => LabeledPoint(categoryMap(category),row))\n    }).reduce(_ union _)\n}\n\nval twenty_train = prepareData(\"train\").cache()\n","dateUpdated":"Jan 21, 2016 9:42:03 AM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala","tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453245065990_498026278","id":"20160119-231105_1705330742","result":{"code":"SUCCESS","type":"TEXT","msg":"import org.apache.spark.rdd.RDD\nimport org.apache.spark.mllib.feature.{HashingTF, IDF}\nimport org.apache.spark.mllib.linalg.Vector\nimport scala.collection.immutable.HashMap\nimport org.apache.spark.mllib.regression.LabeledPoint\nimport scala.math.pow\ncategoryMap: scala.collection.immutable.HashMap[String,Int] = Map(comp.graphics -> 2, alt.atheism -> 0, sci.med -> 3, soc.religion.christian -> 1)\ncategories: Array[String] = Array(comp.graphics, alt.atheism, sci.med, soc.religion.christian)\ntokenize: (line: String)Array[String]\nprepareData: (typ: String)org.apache.spark.rdd.RDD[org.apache.spark.mllib.regression.LabeledPoint]\ntwenty_train: org.apache.spark.rdd.RDD[org.apache.spark.mllib.regression.LabeledPoint] = UnionRDD[461] at union at <console>:113\n"},"dateCreated":"Jan 19, 2016 11:11:05 PM","dateStarted":"Jan 21, 2016 9:42:03 AM","dateFinished":"Jan 21, 2016 9:42:18 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:70"},{"text":"import org.apache.spark.mllib.classification.LogisticRegressionWithLBFGS\n\nval model = new LogisticRegressionWithLBFGS().setNumClasses(4).run(twenty_train)\n","dateUpdated":"Jan 20, 2016 4:00:51 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453289497685_-120467028","id":"20160120-113137_1630362623","result":{"code":"SUCCESS","type":"TEXT","msg":"import org.apache.spark.mllib.classification.LogisticRegressionWithLBFGS\nmodel: org.apache.spark.mllib.classification.LogisticRegressionModel = org.apache.spark.mllib.classification.LogisticRegressionModel: intercept = 0.0, numFeatures = 786432, numClasses = 4, threshold = 0.5\n"},"dateCreated":"Jan 20, 2016 11:31:37 AM","dateStarted":"Jan 20, 2016 4:00:51 PM","dateFinished":"Jan 20, 2016 4:01:23 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:71"},{"text":"import org.apache.spark.mllib.evaluation.MulticlassMetrics\nimport org.apache.spark.mllib.classification.LogisticRegressionWithLBFGS\n\ntwenty_train.take(1)(0).features.toArray.size","dateUpdated":"Jan 20, 2016 4:01:28 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453298071225_-1398290116","id":"20160120-135431_1176948831","result":{"code":"SUCCESS","type":"TEXT","msg":"import org.apache.spark.mllib.evaluation.MulticlassMetrics\nimport org.apache.spark.mllib.classification.LogisticRegressionWithLBFGS\nres58: Int = 262144\n"},"dateCreated":"Jan 20, 2016 1:54:31 PM","dateStarted":"Jan 20, 2016 4:01:28 PM","dateFinished":"Jan 20, 2016 4:01:28 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:72"},{"text":"val twenty_test  = prepareData(\"test\").cache()\nval predictionAndLabels = twenty_test.map { case LabeledPoint(label, features) =>\n  val prediction = model.predict(features)\n  (prediction, label)\n}\n","dateUpdated":"Jan 20, 2016 4:03:38 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453305516805_1404658622","id":"20160120-155836_1681050156","result":{"code":"SUCCESS","type":"TEXT","msg":"twenty_test: org.apache.spark.rdd.RDD[org.apache.spark.mllib.regression.LabeledPoint] = UnionRDD[390] at union at <console>:95\npredictionAndLabels: org.apache.spark.rdd.RDD[(Double, Double)] = MapPartitionsRDD[391] at map at <console>:96\n"},"dateCreated":"Jan 20, 2016 3:58:36 PM","dateStarted":"Jan 20, 2016 4:03:38 PM","dateFinished":"Jan 20, 2016 4:03:47 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:73"},{"text":"import org.apache.spark.mllib.evaluation.MulticlassMetrics\n\nval metrics = new MulticlassMetrics(predictionAndLabels)\nval precision = metrics.precision","dateUpdated":"Jan 20, 2016 4:04:40 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453305762892_1015245118","id":"20160120-160242_1297503102","result":{"code":"SUCCESS","type":"TEXT","msg":"import org.apache.spark.mllib.evaluation.MulticlassMetrics\nmetrics: org.apache.spark.mllib.evaluation.MulticlassMetrics = org.apache.spark.mllib.evaluation.MulticlassMetrics@7531aa39\nprecision: Double = 0.8988015978695073\n"},"dateCreated":"Jan 20, 2016 4:02:42 PM","dateStarted":"Jan 20, 2016 4:04:40 PM","dateFinished":"Jan 20, 2016 4:04:41 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:74"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453305880131_-674987448","id":"20160120-160440_715586051","dateCreated":"Jan 20, 2016 4:04:40 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:75","text":"val x = twenty_train.map(point => point.features.numNonzeros).reduce(_ + _)","dateUpdated":"Jan 21, 2016 9:41:36 AM","dateFinished":"Jan 21, 2016 9:41:36 AM","dateStarted":"Jan 21, 2016 9:41:36 AM","result":{"code":"SUCCESS","type":"TEXT","msg":"x: Int = 372639\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453368931350_35595783","id":"20160121-093531_258912910","dateCreated":"Jan 21, 2016 9:35:31 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:282","dateUpdated":"Jan 21, 2016 9:40:13 AM","dateFinished":"Jan 21, 2016 9:40:13 AM","dateStarted":"Jan 21, 2016 9:40:13 AM","result":{"code":"SUCCESS","type":"TEXT","msg":"res87: Double = 1.05859375\n"},"text":"372547 * 32 * 2257 /1024/1024/1024.0"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1453369049153_865315270","id":"20160121-093729_931344811","dateCreated":"Jan 21, 2016 9:37:29 AM","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:305"}],"name":"20newsgroups","id":"2B8GZHTDD","angularObjects":{"2B7833X2V":[],"2BASS63GS":[],"2BB24SDS3":[]},"config":{"looknfeel":"default"},"info":{}}